<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Request Page</title>
    <style>
        body {
            transition: background-color 0.3s, color 0.3s;
        }
        .light-mode {
            background-color: #fff;
            color: #333;
        }
        .dark-mode {
            background-color: #333;
            color: #fff;
        }
        input, button {
            padding: 8px;
            margin: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>网易云音乐解析</h1>
    <input type="text" id="musicUrl" placeholder="请输入网易云音乐链接">
    <select id="musicQuality">
        <option value="standard">标准音质</option>
        <option value="exhigh">极高音质</option>
        <option value="lossless">无损音质</option>
        <option value="hires">Hi-Res音质</option>
        <option value="jyeffect">高清环绕声</option>
        <option value="sky">沉浸环绕声</option>
        <option value="jymaster">超清母带</option>
    </select>
    <button onclick="fetchMusicData()">解析音乐</button>
    <div id="result"></div>

    <script>
        function fetchMusicData() {
            const yinyue = document.getElementById('musicUrl').value;
            const yinzhi = document.getElementById('musicQuality').value;
            const wangyiyun_url = "https://tools.qzxdp.cn/api/wyy_vip/parse";
            const params = {"url": yinyue, "musicType": yinzhi};
            const headers = {
                "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36 Edg/118.0.2088.46",
                "Referer": "https://tools.qzxdp.cn/wyy_vip"
            };

            fetch(wangyiyun_url, {
                method: 'GET',
                headers: headers,
                mode: 'cors',
            })
            .then(response => response.json())
            .then(data => {
                const resultDiv = document.getElementById('result');
                resultDiv.innerHTML = `
                    <p>歌曲名称：${data.data.al_name}</p>
                    <p>歌手名称：${data.data.ar_name}</p>
                    <p>专辑名称：${data.data.name}</p>
                    <p>歌曲音质：${data.data.level}</p>
                    <p>歌曲大小：${data.data.size}</p>
                    <p>歌曲封面：<img src="${data.data.pic}" alt="Cover" style="width: 100px;"></p>
                    <p>歌曲链接：<a href="${data.data.url}" target="_blank">点击播放</a></p>
                `;
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('result').innerHTML = "解析失败，请检查输入的链接和音质选项。";
            });
        }
    </script>
</body>
</html>
